#include "bcm2837-rpi-3-b-plus.dts"

&spi1 {
	#address-cells = <1>;
	#size-cells = <0>;
	pinctrl-names = "default";
	pinctrl-0 = <&spi1_gpio16>;
	cs-gpios = <&gpio 18 1>, <&gpio 17 1>, <&gpio 16 1>;
	status = "okay";

	spidev0: spidev@0 {
		compatible = "ge,achc"; /* avoid the need to patch the kernel, abuse the spidev compatible set */
		reg = <0>; /* CE0 */
		#address-cells = <1>;
		#size-cells = <0>;
		spi-max-frequency = <125000000>;
		status = "okay";
	};

	spidev1: spidev@1 {
		compatible = "ge,achc";
		reg = <1>; /* CE1 */
		#address-cells = <1>;
		#size-cells = <0>;
		spi-max-frequency = <125000000>;
		status = "okay";
	};

	spidev2: spidev@2 {
		compatible = "ge,achc";
		reg = <2>; /* CE2 */
		#address-cells = <1>;
		#size-cells = <0>;
		spi-max-frequency = <125000000>;
		status = "okay";
	};
};

