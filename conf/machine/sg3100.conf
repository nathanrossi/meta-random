#@TYPE: Machine
#@NAME: Netgate SG3100
#@DESCRIPTION: Machine configuration for Netgate SG3100

require conf/machine/include/arm/armv7a/tune-cortexa9.inc

MACHINE_FEATURES += "usbhost vfat ext2 ext3 ext4 pci serial rtc"

SERIAL_CONSOLES ?= "115200;ttyS0"

PREFERRED_PROVIDER_virtual/kernel ?= "linux-mainline"
KERNEL_IMAGETYPES = "zImage"
KERNEL_EXTRA_ARGS += "LOADADDR=${UBOOT_ENTRYPOINT}"
MACHINE_EXTRA_RRECOMMENDS = "kernel-modules"

# KERNEL_DEVICETREE = "armada-380-sg3100.dtb"
MACHINE_ESSENTIAL_EXTRA_RDEPENDS += "sg3100-devicetree"

UBOOT_ENTRYPOINT = "0x1000000"
UBOOT_LOADADDRESS = "0x1000000"

IMAGE_FSTYPES:append = " cpio cpio.gz cpio.zst"

